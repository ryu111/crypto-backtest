# ç­–ç•¥åˆ—è¡¨é é¢

å±•ç¤ºæ‰€æœ‰ç­–ç•¥å¯¦é©—çµæœçš„äº’å‹•å¼ä»‹é¢ã€‚

## å¿«é€Ÿé–‹å§‹

### 1. å®‰è£ä¾è³´

```bash
pip install streamlit plotly pandas
```

### 2. å•Ÿå‹•é é¢

```bash
# å¾å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œ
streamlit run ui/pages/2_Strategies.py
```

### 3. é–‹å•Ÿç€è¦½å™¨

```
http://localhost:8501
```

## åŠŸèƒ½èªªæ˜

### å´é‚Šæ¬„ç¯©é¸å™¨

#### æ•¸å€¼ç¯©é¸ï¼ˆæ»‘æ¡¿ï¼‰
- **æœ€å° Sharpe Ratio**: 0.0 ~ 5.0
- **æœ€å°å ±é…¬ç‡**: -50% ~ 200%
- **æœ€å¤§å›æ’¤**: 0% ~ 50%
- **æœ€å°äº¤æ˜“ç­†æ•¸**: 0 ~ 500

#### åˆ†é¡ç¯©é¸ï¼ˆå¤šé¸ï¼‰
- **é©—è­‰ç­‰ç´š**: A, B, C, D, F
- **ç­–ç•¥é¡å‹**: è¶¨å‹¢, å‹•é‡, å‡å€¼å›æ­¸
- **æ¨™çš„**: BTCUSDT, ETHUSDT
- **æ™‚é–“æ¡†æ¶**: 1h, 4h, 1d

#### æ’åºé¸é …
- Sharpe Ratioï¼ˆé«˜â†’ä½ï¼‰
- å ±é…¬ç‡ï¼ˆé«˜â†’ä½ï¼‰
- å›æ’¤ï¼ˆä½â†’é«˜ï¼‰
- æ™‚é–“ï¼ˆæ–°â†’èˆŠï¼‰

### ä¸»è¦åŠŸèƒ½

1. **æ¦‚è¦½å„€è¡¨æ¿**
   - ç¸½ç­–ç•¥æ•¸ï¼ˆç¯©é¸å¾Œ/ç¸½æ•¸ï¼‰
   - å¹³å‡ Sharpe Ratio
   - å¹³å‡å ±é…¬ç‡
   - A ç´šç­–ç•¥æ•¸é‡

2. **ç­–ç•¥åˆ—è¡¨è¡¨æ ¼**
   - é¡¯ç¤º 9 å€‹é—œéµæŒ‡æ¨™
   - åˆ†é ç€è¦½ï¼ˆæ¯é  20 ç­†ï¼‰
   - äº’å‹•å¼æ’åº

3. **ç­–ç•¥è©³æƒ…**
   é»æ“Šç­–ç•¥å¯æŸ¥çœ‹ï¼š
   - åŸºæœ¬è³‡è¨Šï¼ˆé¡å‹ã€æ¨™çš„ã€æ™‚é–“æ¡†æ¶ï¼‰
   - ç¸¾æ•ˆæŒ‡æ¨™ï¼ˆå ±é…¬ç‡ã€Sharpeã€å›æ’¤ï¼‰
   - äº¤æ˜“çµ±è¨ˆï¼ˆç­†æ•¸ã€å‹ç‡ã€éæ“¬åˆç‡ï¼‰
   - ç­–ç•¥åƒæ•¸ï¼ˆJSON æ ¼å¼ï¼‰
   - æ¬Šç›Šæ›²ç·šåœ–
   - æœˆåº¦å ±é…¬ç†±åŠ›åœ–
   - AI æ´å¯Ÿ

4. **åŒ¯å‡ºåŠŸèƒ½**
   - åŒ¯å‡ºç¯©é¸çµæœç‚º CSV
   - åŒ¯å‡ºç­–ç•¥è©³æƒ…ç‚º JSON

## è¨­è¨ˆç‰¹è‰²

### è¦–è¦ºè¨­è¨ˆ
- éµå¾ª Design Tokens ç³»çµ±
- ä¸€è‡´çš„è‰²å½©ã€é–“è·ã€åœ“è§’
- éŸ¿æ‡‰å¼ä½ˆå±€ï¼ˆwide layoutï¼‰

### ç­‰ç´šå¾½ç« 

| ç­‰ç´š | é¡è‰² | èªªæ˜ |
|------|------|------|
| A | ç¶ è‰² | é€šéæ‰€æœ‰ 5 éšæ®µé©—è­‰ |
| B | è—è‰² | é€šééšæ®µ 1-4 |
| C | é»ƒè‰² | é€šééšæ®µ 1-3 |
| D | æ©˜è‰² | æœªé€šééšæ®µ 3 |
| F | ç´…è‰² | æœªé€šééšæ®µ 1 |

### æ•ˆèƒ½å„ªåŒ–
- `@st.cache_data` å¿«å–è³‡æ–™è¼‰å…¥
- åˆ†é æ¸›å°‘æ¸²æŸ“é‡
- å»¶é²è¼‰å…¥åœ–è¡¨

## è³‡æ–™æ•´åˆ

### ç›®å‰ç‹€æ…‹
ä½¿ç”¨ç¯„ä¾‹è³‡æ–™ï¼ˆ4 å€‹ç¯„ä¾‹ç­–ç•¥ï¼‰

### æ•´åˆå¯¦éš›è³‡æ–™

ä¿®æ”¹ `load_strategy_results()` å‡½æ•¸ï¼š

```python
@st.cache_data
def load_strategy_results() -> pd.DataFrame:
    """è¼‰å…¥æ‰€æœ‰ç­–ç•¥é©—è­‰çµæœ"""
    results_dir = Path(project_root) / "results" / "strategies"
    all_results = []

    for result_file in results_dir.glob("*.json"):
        with open(result_file, 'r') as f:
            data = json.load(f)
            all_results.append(data)

    return pd.DataFrame(all_results)
```

### æ‰€éœ€è³‡æ–™æ ¼å¼

```json
{
  "strategy_name": "MA Cross (10/30)",
  "strategy_type": "è¶¨å‹¢",
  "symbol": "BTCUSDT",
  "timeframe": "4h",
  "total_return": 45.8,
  "annual_return": 28.2,
  "sharpe_ratio": 1.85,
  "max_drawdown": 12.5,
  "total_trades": 158,
  "win_rate": 62.5,
  "grade": "A",
  "wfa_efficiency": 0.85,
  "params": {
    "fast_period": 10,
    "slow_period": 30
  },
  "created_at": "2024-01-10 14:30:00"
}
```

## ç¨‹å¼ç¢¼çµæ§‹

```python
# é é¢é…ç½®
st.set_page_config(layout="wide")

# è‡ªè¨‚ CSSï¼ˆDesign Tokensï¼‰
st.markdown("<style>...</style>")

# è³‡æ–™è¼‰å…¥
@st.cache_data
def load_strategy_results() -> pd.DataFrame

# è³‡æ–™è™•ç†
def apply_filters(df, filters) -> pd.DataFrame
def sort_dataframe(df, sort_by) -> pd.DataFrame

# è¦–è¦ºåŒ–
def plot_equity_curve(strategy_name) -> go.Figure
def plot_monthly_heatmap(strategy_name) -> go.Figure

# ä¸»ç¨‹å¼
def main():
    # å´é‚Šæ¬„ç¯©é¸å™¨
    with st.sidebar:
        # æ•¸å€¼ç¯©é¸
        # åˆ†é¡ç¯©é¸
        # æ’åºé¸é …

    # æ¦‚è¦½æŒ‡æ¨™
    # ç­–ç•¥åˆ—è¡¨
    # è©³æƒ…å±•é–‹
    # åŒ¯å‡ºåŠŸèƒ½
```

## é–‹ç™¼è¨ˆç•«

### å·²å®Œæˆ âœ…
- [x] å´é‚Šæ¬„ç¯©é¸å™¨ï¼ˆæ•¸å€¼ + åˆ†é¡ï¼‰
- [x] æ¦‚è¦½å„€è¡¨æ¿
- [x] ç­–ç•¥åˆ—è¡¨è¡¨æ ¼ï¼ˆåˆ†é ï¼‰
- [x] ç­–ç•¥è©³æƒ…å±•é–‹å€
- [x] ç­‰ç´šå¾½ç« ï¼ˆè‰²å½©ç·¨ç¢¼ï¼‰
- [x] åŒ¯å‡ºåŠŸèƒ½ï¼ˆCSV + JSONï¼‰
- [x] Design Tokens æ•´åˆ

### å¾…å¯¦ä½œ ğŸ“‹
- [ ] æ•´åˆå¯¦éš›è³‡æ–™è¼‰å…¥
- [ ] çœŸå¯¦æ¬Šç›Šæ›²ç·šè³‡æ–™
- [ ] çœŸå¯¦æœˆåº¦å ±é…¬è³‡æ–™
- [ ] 5 éšæ®µé©—è­‰è©³æƒ…
- [ ] ç­–ç•¥æ¯”è¼ƒåŠŸèƒ½
- [ ] é€²éšç¯©é¸ï¼ˆè‡ªè¨‚æ¢ä»¶ï¼‰
- [ ] è¼‰å…¥ç‹€æ…‹æç¤º
- [ ] éŒ¯èª¤è™•ç†

## æ¸¬è©¦

### åŸ·è¡Œæ¸¬è©¦è…³æœ¬

```bash
python ui/test_strategies_page.py
```

æ¸¬è©¦æ¶µè“‹ï¼š
- å¥—ä»¶åŒ¯å…¥
- æª”æ¡ˆçµæ§‹
- è³‡æ–™è¼‰å…¥
- é©—è­‰å™¨æ•´åˆ

### æ‰‹å‹•æ¸¬è©¦æª¢æŸ¥æ¸…å–®

- [ ] æ•¸å€¼ç¯©é¸æ­£å¸¸é‹ä½œ
- [ ] åˆ†é¡ç¯©é¸æ­£å¸¸é‹ä½œ
- [ ] æ’åºåŠŸèƒ½æ­£å¸¸
- [ ] åˆ†é å°èˆªæ­£å¸¸
- [ ] è©³æƒ…å±•é–‹æ­£å¸¸
- [ ] åœ–è¡¨é¡¯ç¤ºæ­£å¸¸
- [ ] åŒ¯å‡ºåŠŸèƒ½æ­£å¸¸
- [ ] é‡ç½®æŒ‰éˆ•æ­£å¸¸

## å¸¸è¦‹å•é¡Œ

### Q: ç‚ºä»€éº¼æ²’æœ‰è³‡æ–™é¡¯ç¤ºï¼Ÿ
A: ç›®å‰ä½¿ç”¨ç¯„ä¾‹è³‡æ–™ã€‚éœ€è¦æ•´åˆå¯¦éš›è³‡æ–™è¼‰å…¥ï¼ˆè¦‹ã€Œè³‡æ–™æ•´åˆã€ç« ç¯€ï¼‰ã€‚

### Q: å¦‚ä½•æ–°å¢æ›´å¤šç¯©é¸æ¢ä»¶ï¼Ÿ
A: åœ¨ `apply_filters()` å‡½æ•¸ä¸­æ–°å¢ç¯©é¸é‚è¼¯ã€‚

### Q: å¦‚ä½•è‡ªè¨‚ç­‰ç´šå¾½ç« é¡è‰²ï¼Ÿ
A: ä¿®æ”¹ CSS ä¸­çš„ `.grade-A`, `.grade-B` ç­‰é¡åˆ¥ã€‚

### Q: å¦‚ä½•æ”¹è®Šæ¯é é¡¯ç¤ºç­†æ•¸ï¼Ÿ
A: ä¿®æ”¹ `ITEMS_PER_PAGE = 20` å¸¸æ•¸ã€‚

## åƒè€ƒè³‡æ–™

- [Streamlit æ–‡ä»¶](https://docs.streamlit.io)
- [Plotly æ–‡ä»¶](https://plotly.com/python/)
- UI è¨­è¨ˆè¦ç¯„ï¼š`~/.claude/skills/ui/SKILL.md`
- é©—è­‰ç³»çµ±ï¼š`src/validator/stages.py`

---

**å»ºç«‹æ™‚é–“**: 2024-01-11
**ç‰ˆæœ¬**: v1.0
**ç‹€æ…‹**: åŸºç¤å¯¦ä½œå®Œæˆ âœ…
