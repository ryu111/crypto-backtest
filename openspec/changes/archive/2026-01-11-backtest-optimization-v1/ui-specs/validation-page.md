# é©—è­‰é é¢ UI è¨­è¨ˆè¦æ ¼

## ğŸ“‹ éœ€æ±‚ç†è§£

### ç›®æ¨™
é€™å€‹é é¢ç”¨æ–¼é¡¯ç¤ºç­–ç•¥çš„çµ±è¨ˆé©—è­‰çµæœï¼Œå¹«åŠ©ä½¿ç”¨è€…ç¢ºèªç­–ç•¥æ˜¯å¦çœŸå¯¦æœ‰æ•ˆï¼ˆééæ“¬åˆï¼‰ã€‚

### ä½¿ç”¨è€…
é‡åŒ–äº¤æ˜“è€…ï¼Œéœ€è¦ï¼š
- å¿«é€Ÿäº†è§£ç­–ç•¥æ˜¯å¦çµ±è¨ˆé¡¯è‘—
- é©—è­‰ç­–ç•¥åœ¨ä¸åŒæ™‚æœŸçš„ç©©å®šæ€§
- è©•ä¼°ç­–ç•¥æ˜¯å¦éåº¦å„ªåŒ–
- æª¢è¦–æ¥µç«¯å¸‚æ³ä¸‹çš„è¡¨ç¾

### é—œéµäº’å‹•
1. é¸æ“‡ç­–ç•¥æŸ¥çœ‹é©—è­‰çµæœ
2. åˆ‡æ›ä¸åŒé©—è­‰æ–¹æ³•ï¼ˆçµ±è¨ˆæª¢å®šã€äº¤å‰é©—è­‰ã€å£“åŠ›æ¸¬è©¦ï¼‰
3. è¦–è¦ºåŒ–ç†è§£è¤‡é›œçµ±è¨ˆæ¦‚å¿µ
4. åŒ¯å‡ºé©—è­‰å ±å‘Š

### UX è€ƒé‡ï¼ˆåŸºæ–¼ psychology.mdï¼‰

**èªçŸ¥è² è·æœ€å°åŒ–ï¼ˆMiller's Lawï¼‰**ï¼š
- ä½¿ç”¨ Tabs å°‡ 4 å¤§å€å¡Šåˆ†é–‹ï¼Œæ¯æ¬¡åªçœ‹ä¸€å€‹
- æ¯å€‹ Tab å…§æ§åˆ¶åœ¨ 5-7 å€‹é—œéµæŒ‡æ¨™

**å³æ™‚å›é¥‹ï¼ˆPeak-End Ruleï¼‰**ï¼š
- é©—è­‰é€šéæ™‚é¡¯ç¤ºæ…¶ç¥å‹•ç•«/è¨Šæ¯
- é©—è­‰å¤±æ•—æ™‚æ¸…æ¥šèªªæ˜åŸå› å’Œå»ºè­°

**è¦–è¦ºå±¤ç´šï¼ˆGestalt Principlesï¼‰**ï¼š
- ä½¿ç”¨å¡ç‰‡åˆ†çµ„ç›¸é—œè³‡è¨Šï¼ˆCommon Regionï¼‰
- æˆåŠŸ/è­¦å‘Š/éŒ¯èª¤ç”¨é¡è‰²å€åˆ†ï¼ˆSimilarityï¼‰
- é—œéµæ•¸å­—æ”¾å¤§çªå‡ºï¼ˆVon Restorff Effectï¼‰

---

## ğŸ“ LAYOUT

### é é¢çµæ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š ç­–ç•¥é©—è­‰                                               â”‚
â”‚ "è©•ä¼°ç­–ç•¥çš„çµ±è¨ˆé¡¯è‘—æ€§èˆ‡ç©©å¥æ€§"                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [é¸æ“‡ç­–ç•¥] â–¼                           [åŒ¯å‡ºå ±å‘Š] ğŸ“¥      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [çµ±è¨ˆæª¢å®š] [äº¤å‰é©—è­‰] [Sharpe æ ¡æ­£] [å£“åŠ›æ¸¬è©¦]           â”‚  â† Tabs
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Tab å…§å®¹å€åŸŸ                                            â”‚
â”‚  ï¼ˆæ¯å€‹ Tab é¡¯ç¤ºä¸åŒé©—è­‰çµæœï¼‰                           â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä½ˆå±€æ¨¡å¼
- **ä¸»å®¹å™¨**ï¼šStreamlit `st.container()`ï¼Œä½¿ç”¨ `layout="wide"`
- **é¸æ“‡å™¨åˆ—**ï¼š`st.columns([3, 1])`ï¼Œå·¦å´é¸æ“‡å™¨ï¼Œå³å´åŒ¯å‡ºæŒ‰éˆ•
- **Tab åˆ‡æ›**ï¼š`st.tabs()`ï¼Œ4 å€‹ä¸»è¦å€å¡Š
- **Tab å…§å®¹**ï¼šæ¯å€‹ Tab ä½¿ç”¨ `st.columns()` åˆ†å‰²æŒ‡æ¨™å¡ç‰‡å’Œåœ–è¡¨

### é–“è·ç³»çµ±ï¼ˆåŸºæ–¼ tokens.mdï¼‰
```css
--spacing-sm: 0.5rem;   /* 8px  - å¡ç‰‡å…§å…ƒç´ é–“è· */
--spacing-md: 1rem;     /* 16px - å¡ç‰‡å…§è·ã€æ¬„ä½é–“è· */
--spacing-lg: 1.5rem;   /* 24px - å€å¡Šé–“è· */
--spacing-xl: 2rem;     /* 32px - Tab èˆ‡å…§å®¹é–“è· */
```

### å®¹å™¨å¯¬åº¦
- ä¸»å®¹å™¨ï¼š`layout="wide"` â†’ ä½¿ç”¨ Streamlit å…¨å¯¬
- å¡ç‰‡ï¼š`use_container_width=True`
- åœ–è¡¨ï¼š`use_container_width=True`

---

## ğŸ¨ VISUAL

### é¡è‰²æ–¹æ¡ˆï¼ˆåŸºæ–¼ tokens.md + ç¾æœ‰ styles.pyï¼‰

```css
/* èªæ„åŒ–è‰²å½© - å·²å®šç¾©æ–¼ styles.py */
--color-primary: #2563eb;         /* ä¸»è‰²ï¼šè³‡è¨Šã€é€£çµ */
--color-success: #22c55e;         /* æˆåŠŸï¼šé©—è­‰é€šéã€æ­£å ±é…¬ */
--color-warning: #eab308;         /* è­¦å‘Šï¼šéœ€æ³¨æ„æŒ‡æ¨™ */
--color-error: #ef4444;           /* éŒ¯èª¤ï¼šé©—è­‰å¤±æ•—ã€è² å ±é…¬ */

/* è©•ç´šé¡è‰² - å·²å®šç¾©æ–¼ GRADE_COLORS */
A ç´šï¼ˆå„ªç§€ï¼‰: #10b981 / bg: #d1fae5
B ç´šï¼ˆè‰¯å¥½ï¼‰: #3b82f6 / bg: #dbeafe
C ç´šï¼ˆæ™®é€šï¼‰: #f59e0b / bg: #fef3c7
D ç´šï¼ˆä¸ä½³ï¼‰: #f97316 / bg: #fed7aa
F ç´šï¼ˆå¤±æ•—ï¼‰: #ef4444 / bg: #fee2e2

/* åœ–è¡¨è‰²å½© */
Equity Curve: --color-primary (#2563eb)
Benchmark: #9ca3af (ç°è‰²)
Positive Bar: --color-success
Negative Bar: --color-error
```

### èƒŒæ™¯èˆ‡è¡¨é¢ï¼ˆ60-30-10 æ³•å‰‡æ‡‰ç”¨ï¼‰

```
60% - ä¸»èƒŒæ™¯
  --color-surface: #ffffff (Streamlit é è¨­ç™½åº•)

30% - å¡ç‰‡/å€å¡Š
  --color-surface-raised: #f9fafb (æ·ºç°ï¼Œç”¨æ–¼å¡ç‰‡)

10% - å¼·èª¿è‰²
  --color-primary (è—è‰²ï¼Œç”¨æ–¼ CTAã€é€£çµã€åœ–è¡¨ä¸»ç·š)
```

### é‚Šæ¡†èˆ‡åœ“è§’ï¼ˆåŸºæ–¼ tokens.mdï¼‰

```css
/* å¡ç‰‡ */
border: 1px solid var(--color-border);  /* #e5e7eb */
border-radius: var(--radius-lg);         /* 8px */

/* å¾½ç« ï¼ˆè©•ç´šã€ç‹€æ…‹ï¼‰ */
border-radius: 9999px;  /* å…¨åœ“è§’ */

/* æŒ‰éˆ• */
border-radius: var(--radius-md);  /* 6px */
```

### å­—é«”è¦ç¯„ï¼ˆåŸºæ–¼ tokens.mdï¼‰

```css
/* æ¨™é¡Œ */
H1 (é é¢æ¨™é¡Œ): 2.25rem (36px), font-weight: 700
H2 (å€å¡Šæ¨™é¡Œ): 1.5rem (24px), font-weight: 600
H3 (å¡ç‰‡æ¨™é¡Œ): 1.125rem (18px), font-weight: 600

/* å…§æ–‡ */
Body: 1rem (16px), font-weight: 400
Small (è¼”åŠ©): 0.875rem (14px), font-weight: 400
Caption (èªªæ˜): 0.75rem (12px), font-weight: 400

/* æ•¸å­—æŒ‡æ¨™ */
Large Metric: 2rem (32px), font-weight: 700
```

---

## ğŸ”„ STATES

### é é¢ç‹€æ…‹

| ç‹€æ…‹ | è¦–è¦ºè®ŠåŒ– | èªªæ˜ |
|------|----------|------|
| **è¼‰å…¥ä¸­** | Skeleton + Spinner | é¦–æ¬¡è¼‰å…¥é©—è­‰è³‡æ–™ |
| **ç„¡è³‡æ–™** | Empty State | æœªé¸æ“‡ç­–ç•¥æˆ–ç„¡é©—è­‰çµæœ |
| **é¡¯ç¤ºçµæœ** | æ­£å¸¸å…§å®¹ | é¡¯ç¤ºå®Œæ•´é©—è­‰çµæœ |
| **éŒ¯èª¤** | Error Alert | è³‡æ–™è¼‰å…¥å¤±æ•— |

### æŒ‡æ¨™å¡ç‰‡ç‹€æ…‹

æ¯å€‹é©—è­‰æŒ‡æ¨™éœ€è¦é¡¯ç¤ºï¼š

```
âœ… é€šé (Pass)
  èƒŒæ™¯: --color-success-light (#d1fae5)
  åœ–ç¤º: âœ…
  æ–‡å­—: --color-success-dark

âš ï¸ è­¦å‘Š (Warning)
  èƒŒæ™¯: --color-warning-light (#fef9c3)
  åœ–ç¤º: âš ï¸
  æ–‡å­—: --color-warning-dark

âŒ å¤±æ•— (Fail)
  èƒŒæ™¯: --color-error-light (#fee2e2)
  åœ–ç¤º: âŒ
  æ–‡å­—: --color-error-dark
```

### äº’å‹•å…ƒç´ ç‹€æ…‹

**é¸æ“‡å™¨ï¼ˆst.selectboxï¼‰**ï¼š
- Default: é‚Šæ¡† `--color-border`
- Focus: é‚Šæ¡† `--color-primary`
- Error: é‚Šæ¡† `--color-error`

**æŒ‰éˆ•ï¼ˆst.buttonï¼‰**ï¼š
- Default: èƒŒæ™¯ `--color-primary`
- Hover: èƒŒæ™¯ `--color-primary-hover` (äº®åº¦ 0.95)
- Active: transform: scale(0.98)
- Disabled: opacity: 0.5

### åœ–è¡¨äº’å‹•

- Hover: é¡¯ç¤º Tooltipï¼ˆæ•¸å€¼ã€èªªæ˜ï¼‰
- Click: ï¼ˆå¯é¸ï¼‰å±•é–‹è©³ç´°è³‡è¨Š
- Zoom: Plotly å…§å»ºå·¥å…·åˆ—

---

## ğŸ“± RESPONSIVE

### ä¸»è¦è£ç½®
- **Desktop**: 1280px+ (ä¸»è¦ä½¿ç”¨å ´æ™¯)
- **Tablet**: 768px-1280px
- **Mobile**: < 768px (æ¬¡è¦)

### æ–·é»è¡Œç‚ºï¼ˆåŸºæ–¼ tokens.mdï¼‰

```css
/* Desktop (é è¨­) */
@media (min-width: 1024px) {
  st.columns([1, 1, 1, 1])  /* 4 æ¬„ä½ä¸¦æ’ */
}

/* Tablet */
@media (min-width: 768px) and (max-width: 1023px) {
  st.columns([1, 1])  /* 2 æ¬„ä½ä¸¦æ’ */
}

/* Mobile */
@media (max-width: 767px) {
  st.columns([1])  /* å–®æ¬„å‚ç›´æ’åˆ— */
}
```

### Streamlit éŸ¿æ‡‰å¼è¨­å®š
```python
# ä½¿ç”¨ Streamlit å…§å»ºéŸ¿æ‡‰å¼
st.set_page_config(layout="wide")  # Desktop å„ªå…ˆ

# åœ–è¡¨è‡ªå‹•ç¸®æ”¾
st.plotly_chart(fig, use_container_width=True)

# å¡ç‰‡è‡ªå‹•ç¸®æ”¾
st.dataframe(df, use_container_width=True)
```

---

## ğŸ“Š TAB 1: çµ±è¨ˆæª¢å®š

### ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š çµ±è¨ˆæª¢å®š                                               â”‚
â”‚ "è©•ä¼°ç­–ç•¥å ±é…¬çš„çµ±è¨ˆé¡¯è‘—æ€§"                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Bootstrap Test  â”‚ Permutation Testâ”‚ Confidence      â”‚â”‚
â”‚  â”‚ âœ… é€šé          â”‚ âœ… p < 0.05     â”‚ 95%            â”‚â”‚
â”‚  â”‚ 95% CI:         â”‚ å¯¦éš›è¼ƒéš¨æ©Ÿå¥½    â”‚ [12.3%, 45.2%] â”‚â”‚
â”‚  â”‚ [12.3%, 45.2%] â”‚                 â”‚                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ˆ Bootstrap åˆ†å¸ƒåœ–                                  â”‚â”‚
â”‚  â”‚ (ç›´æ–¹åœ– + 95% ä¿¡è³´å€é–“æ¨™ç¤º)                          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š Permutation Test çµæœ                            â”‚â”‚
â”‚  â”‚ (å¯¦éš›å€¼ vs éš¨æ©Ÿåˆ†å¸ƒ)                                 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…ƒä»¶è¦æ ¼

**æŒ‡æ¨™å¡ç‰‡ï¼ˆ3 æ¬„ï¼‰**ï¼š
```python
col1, col2, col3 = st.columns(3)

with col1:
    st.metric(
        label="Bootstrap Test",
        value="âœ… é€šé" if pass else "âŒ å¤±æ•—",
        delta="95% CI: [12.3%, 45.2%]",
        delta_color="normal"
    )
```

**åœ–è¡¨ 1ï¼šBootstrap åˆ†å¸ƒ**ï¼š
- é¡å‹ï¼šç›´æ–¹åœ–ï¼ˆHistogramï¼‰
- é¡è‰²ï¼šä¸»è‰² `--color-primary`
- æ¨™ç¤ºï¼šå‚ç›´ç·šé¡¯ç¤º 95% ä¿¡è³´å€é–“é‚Šç•Œï¼ˆç´…è‰²è™›ç·šï¼‰
- æ¨™è¨»ï¼šå¯¦éš›å ±é…¬å€¼ï¼ˆç¶ è‰²å¯¦ç·šï¼‰

**åœ–è¡¨ 2ï¼šPermutation Test**ï¼š
- é¡å‹ï¼šç›´æ–¹åœ–ï¼ˆéš¨æ©Ÿåˆ†å¸ƒï¼‰ + å‚ç›´ç·šï¼ˆå¯¦éš›å€¼ï¼‰
- é¡è‰²ï¼šéš¨æ©Ÿåˆ†å¸ƒï¼ˆç°è‰²ï¼‰ï¼Œå¯¦éš›å€¼ï¼ˆç¶ è‰²å¯¦ç·šï¼‰
- æ¨™è¨»ï¼šp-value æ•¸å€¼

### è¦–è¦ºç‹€æ…‹

```python
# é€šéç‹€æ…‹
if bootstrap_pass and permutation_pass:
    st.success("âœ… ç­–ç•¥å ±é…¬å…·æœ‰çµ±è¨ˆé¡¯è‘—æ€§ï¼Œééš¨æ©Ÿçµæœ")

# è­¦å‘Šç‹€æ…‹
elif bootstrap_pass or permutation_pass:
    st.warning("âš ï¸ éƒ¨åˆ†æª¢å®šé€šéï¼Œå»ºè­°è¬¹æ…è©•ä¼°")

# å¤±æ•—ç‹€æ…‹
else:
    st.error("âŒ ç­–ç•¥å ±é…¬ç„¡çµ±è¨ˆé¡¯è‘—æ€§ï¼Œå¯èƒ½ç‚ºéš¨æ©Ÿçµæœ")
```

---

## ğŸ“Š TAB 2: äº¤å‰é©—è­‰

### ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„ äº¤å‰é©—è­‰                                               â”‚
â”‚ "è©•ä¼°ç­–ç•¥åœ¨ä¸åŒæ™‚æœŸçš„ç©©å®šæ€§"                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ CV Mean Return  â”‚ CV Std Dev      â”‚ Stability Scoreâ”‚â”‚
â”‚  â”‚ 28.5%          â”‚ Â±4.2%           â”‚ 0.87/1.0       â”‚â”‚
â”‚  â”‚ â†‘ ç©©å®š         â”‚ â†“ æ³¢å‹•å°        â”‚ âœ… å„ªç§€        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ˆ å„ Fold ç¸¾æ•ˆæ¯”è¼ƒ                                   â”‚â”‚
â”‚  â”‚ (æŠ˜ç·šåœ–ï¼šX=Fold, Y=Return)                           â”‚â”‚
â”‚  â”‚ é¡¯ç¤º IS/OOS å ±é…¬                                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š Walk-Forward æ•ˆç‡                                 â”‚â”‚
â”‚  â”‚ (é•·æ¢åœ–ï¼šIS vs OOS æ¯”è¼ƒ)                             â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…ƒä»¶è¦æ ¼

**æŒ‡æ¨™å¡ç‰‡ï¼ˆ3 æ¬„ï¼‰**ï¼š
- å¹³å‡å ±é…¬ï¼ˆé¡¯ç¤º â†‘/â†“ è¶¨å‹¢ï¼‰
- æ¨™æº–å·®ï¼ˆæ³¢å‹•æ€§ï¼‰
- ç©©å®šæ€§åˆ†æ•¸ï¼ˆ0-1ï¼Œé¡è‰²æ˜ å°„ï¼‰

**åœ–è¡¨ 1ï¼šFold ç¸¾æ•ˆæŠ˜ç·šåœ–**ï¼š
- X è»¸ï¼šFold ç·¨è™Ÿï¼ˆ1, 2, 3...ï¼‰
- Y è»¸ï¼šå ±é…¬ç‡ (%)
- é›™ç·šï¼šISï¼ˆæ¨£æœ¬å…§ï¼Œè—è‰²ï¼‰ï¼ŒOOSï¼ˆæ¨£æœ¬å¤–ï¼Œæ©™è‰²ï¼‰
- Hoverï¼šé¡¯ç¤ºæ™‚é–“ç¯„åœã€å ±é…¬ç‡

**åœ–è¡¨ 2ï¼šWFA æ•ˆç‡é•·æ¢åœ–**ï¼š
- X è»¸ï¼šFold ç·¨è™Ÿ
- Y è»¸ï¼šæ•ˆç‡æ¯”ç‡ï¼ˆOOS / ISï¼‰
- åŸºæº–ç·šï¼šy=1.0ï¼ˆè™›ç·šï¼‰
- é¡è‰²ï¼š> 0.7 ç¶ è‰²ï¼Œ0.5-0.7 é»ƒè‰²ï¼Œ< 0.5 ç´…è‰²

### è¦–è¦ºç‹€æ…‹

```python
# è¨ˆç®—ç©©å®šæ€§åˆ†æ•¸
stability = cv_mean / cv_std

if stability > 3.0:
    st.success("âœ… ç­–ç•¥è¡¨ç¾ç©©å®šï¼Œå„æ™‚æœŸä¸€è‡´")
elif stability > 1.5:
    st.warning("âš ï¸ ç­–ç•¥ç©©å®šæ€§ä¸­ç­‰ï¼Œéœ€æŒçºŒç›£æ§")
else:
    st.error("âŒ ç­–ç•¥ä¸ç©©å®šï¼Œä¸åŒæ™‚æœŸå·®ç•°å¤§")
```

---

## ğŸ“Š TAB 3: Sharpe æ ¡æ­£

### ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‰ Sharpe Ratio æ ¡æ­£                                     â”‚
â”‚ "èª¿æ•´å¤šé‡æ¸¬è©¦åèª¤"                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Original Sharpe â”‚ Deflated Sharpe â”‚ Trials Penalty â”‚â”‚
â”‚  â”‚ 2.15           â”‚ 1.45            â”‚ 120 æ¬¡å˜—è©¦     â”‚â”‚
â”‚  â”‚ âš ï¸ éé«˜?        â”‚ âœ… èª¿æ•´å¾Œåˆç†    â”‚ -32% æ ¡æ­£      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š Sharpe Ratio æ¯”è¼ƒ                                 â”‚â”‚
â”‚  â”‚ (ä¸¦æ’é•·æ¢åœ–ï¼šåŸå§‹ vs æ ¡æ­£å¾Œ)                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ² PBO (Probability of Backtest Overfitting)        â”‚â”‚
â”‚  â”‚ æ•¸å€¼ï¼š0.35 âœ…                                        â”‚â”‚
â”‚  â”‚ "éæ“¬åˆæ©Ÿç‡ä½æ–¼ 50%ï¼Œç­–ç•¥å¯ä¿¡åº¦é«˜"                   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…ƒä»¶è¦æ ¼

**æŒ‡æ¨™å¡ç‰‡ï¼ˆ3 æ¬„ï¼‰**ï¼š
- åŸå§‹ Sharpeï¼ˆå¤§å­—é¡¯ç¤ºï¼‰
- æ ¡æ­£å¾Œ Sharpeï¼ˆå¤§å­— + è®ŠåŒ–ç™¾åˆ†æ¯”ï¼‰
- æ¸¬è©¦æ¬¡æ•¸ï¼ˆèªªæ˜æ ¡æ­£å¹…åº¦ï¼‰

**åœ–è¡¨ 1ï¼šSharpe æ¯”è¼ƒé•·æ¢åœ–**ï¼š
- X è»¸ï¼šé¡å‹ï¼ˆOriginal / Deflatedï¼‰
- Y è»¸ï¼šSharpe Ratio æ•¸å€¼
- é¡è‰²ï¼šOriginalï¼ˆæ·¡è—ï¼‰ï¼ŒDeflatedï¼ˆæ·±è—ï¼‰
- æ¨™è¨»ï¼šè®ŠåŒ–ç™¾åˆ†æ¯”

**åœ–è¡¨ 2ï¼šPBO å„€è¡¨æ¿**ï¼š
- é¡å‹ï¼šGauge Chartï¼ˆåŠåœ“å„€è¡¨ï¼‰
- ç¯„åœï¼š0-1
- é¡è‰²ï¼š< 0.5 ç¶ è‰²ï¼Œ0.5-0.7 é»ƒè‰²ï¼Œ> 0.7 ç´…è‰²
- æ¨™è¨»ï¼šæ•¸å€¼ + è§£é‡‹æ–‡å­—

### è¦–è¦ºç‹€æ…‹

```python
deflated_sharpe = original_sharpe * adjustment_factor

if pbo < 0.5:
    st.success("âœ… éæ“¬åˆæ©Ÿç‡ä½ï¼Œç­–ç•¥å¯é ")
elif pbo < 0.7:
    st.warning("âš ï¸ éæ“¬åˆé¢¨éšªä¸­ç­‰ï¼Œéœ€é¡å¤–é©—è­‰")
else:
    st.error("âŒ éæ“¬åˆæ©Ÿç‡é«˜ï¼Œç­–ç•¥ä¸å¯é ")
```

---

## ğŸ“Š TAB 4: å£“åŠ›æ¸¬è©¦

### ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”¥ å£“åŠ›æ¸¬è©¦                                               â”‚
â”‚ "è©•ä¼°æ¥µç«¯å¸‚æ³ä¸‹çš„è¡¨ç¾"                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ æ­·å²é»‘å¤©éµäº‹ä»¶                                        â”‚â”‚
â”‚  â”‚ [COVID-19 å´©ç›¤] [LUNA å´©ç›¤] [FTX å´©ç›¤] [å…¨éƒ¨]        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Max Drawdown    â”‚ Recovery Days   â”‚ Sharpe (Event) â”‚â”‚
â”‚  â”‚ -18.5%         â”‚ 45 å¤©           â”‚ 0.82           â”‚â”‚
â”‚  â”‚ âš ï¸ ä¸­ç­‰å›æ’¤     â”‚ âœ… å¿«é€Ÿæ¢å¾©     â”‚ âš ï¸ ä¸‹é™        â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ˆ äº‹ä»¶æœŸé–“æ¬Šç›Šæ›²ç·š                                   â”‚â”‚
â”‚  â”‚ (æŠ˜ç·šåœ–ï¼šç­–ç•¥ vs åŸºæº–)                               â”‚â”‚
â”‚  â”‚ æ¨™ç¤ºäº‹ä»¶èµ·è¨–é»                                       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š å„äº‹ä»¶å›æ’¤æ¯”è¼ƒ                                     â”‚â”‚
â”‚  â”‚ (é•·æ¢åœ–ï¼šæ¯å€‹äº‹ä»¶çš„æœ€å¤§å›æ’¤)                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…ƒä»¶è¦æ ¼

**äº‹ä»¶é¸æ“‡å™¨**ï¼š
```python
event = st.radio(
    "é¸æ“‡äº‹ä»¶",
    options=["COVID-19 å´©ç›¤ (2020/03)", "LUNA å´©ç›¤ (2022/05)",
             "FTX å´©ç›¤ (2022/11)", "å…¨éƒ¨"],
    horizontal=True
)
```

**æŒ‡æ¨™å¡ç‰‡ï¼ˆ3 æ¬„ï¼‰**ï¼š
- æœ€å¤§å›æ’¤ï¼ˆç™¾åˆ†æ¯” + è©•ç´šï¼‰
- æ¢å¾©å¤©æ•¸ï¼ˆæ™‚é–“é•·åº¦ + è©•ç´šï¼‰
- äº‹ä»¶æœŸ Sharpeï¼ˆæ•¸å€¼ + è®ŠåŒ–ï¼‰

**åœ–è¡¨ 1ï¼šäº‹ä»¶æ¬Šç›Šæ›²ç·š**ï¼š
- X è»¸ï¼šæ—¥æœŸï¼ˆäº‹ä»¶å‰å¾Œå„ 30 å¤©ï¼‰
- Y è»¸ï¼šæ¬Šç›Šæ›²ç·šï¼ˆæ¨™æº–åŒ–ç‚º 100ï¼‰
- é›™ç·šï¼šç­–ç•¥ï¼ˆè—è‰²ï¼‰ï¼ŒåŸºæº–ï¼ˆç°è‰²ï¼‰
- é™°å½±å€ï¼šäº‹ä»¶æœŸé–“ï¼ˆæ·¡ç´…è‰²èƒŒæ™¯ï¼‰
- æ¨™è¨»ï¼šæœ€å¤§å›æ’¤é»ï¼ˆç´…é»ï¼‰

**åœ–è¡¨ 2ï¼šå„äº‹ä»¶å›æ’¤æ¯”è¼ƒ**ï¼š
- X è»¸ï¼šäº‹ä»¶åç¨±
- Y è»¸ï¼šæœ€å¤§å›æ’¤ (%)
- é¡è‰²ï¼š< -10% ç¶ è‰²ï¼Œ-10% ~ -20% é»ƒè‰²ï¼Œ> -20% ç´…è‰²
- æ¨™è¨»ï¼šå…·é«”æ•¸å€¼

### è¦–è¦ºç‹€æ…‹

```python
if max_drawdown > -15%:
    st.success("âœ… æŠ—å£“èƒ½åŠ›å¼·ï¼Œæ¥µç«¯å¸‚æ³å½±éŸ¿å°")
elif max_drawdown > -25%:
    st.warning("âš ï¸ ä¸­ç­‰å›æ’¤ï¼Œéœ€æ³¨æ„é¢¨æ§")
else:
    st.error("âŒ æ¥µç«¯å¸‚æ³ä¸‹é¢¨éšªéé«˜")
```

---

## ğŸ¯ äº’å‹•å…ƒç´ 

### é¸æ“‡å™¨

**ç­–ç•¥é¸æ“‡å™¨ï¼ˆä¸»é¸æ“‡å™¨ï¼‰**ï¼š
```python
selected_strategy = st.selectbox(
    "é¸æ“‡ç­–ç•¥",
    options=strategy_list,
    format_func=lambda x: f"{x.name} ({x.symbol} {x.timeframe})"
)
```

### æŒ‰éˆ•

**åŒ¯å‡ºå ±å‘ŠæŒ‰éˆ•**ï¼š
```python
if st.button("ğŸ“¥ åŒ¯å‡ºé©—è­‰å ±å‘Š", type="primary"):
    # ç”¢ç”Ÿ PDF æˆ– JSON å ±å‘Š
    st.download_button(
        label="ä¸‹è¼‰ PDF",
        data=pdf_bytes,
        file_name=f"validation_{strategy_name}.pdf",
        mime="application/pdf"
    )
```

### Tabs

```python
tab1, tab2, tab3, tab4 = st.tabs([
    "ğŸ“Š çµ±è¨ˆæª¢å®š",
    "ğŸ”„ äº¤å‰é©—è­‰",
    "ğŸ“‰ Sharpe æ ¡æ­£",
    "ğŸ”¥ å£“åŠ›æ¸¬è©¦"
])
```

---

## ğŸ“Š åœ–è¡¨è¦ç¯„

### Plotly çµ±ä¸€é…ç½®

```python
def get_chart_config():
    return {
        'displayModeBar': True,
        'displaylogo': False,
        'toImageButtonOptions': {
            'format': 'png',
            'filename': 'validation_chart',
            'height': 600,
            'width': 1200,
            'scale': 2
        }
    }

def apply_chart_theme(fig):
    fig.update_layout(
        font=dict(family="'Inter', sans-serif", size=14),
        plot_bgcolor='white',
        paper_bgcolor='white',
        margin=dict(l=40, r=40, t=60, b=40),
        hovermode='x unified',
        hoverlabel=dict(
            bgcolor="white",
            font_size=13,
            font_family="'Inter', sans-serif"
        )
    )
    return fig
```

### é¡è‰²æ˜ å°„

```python
COLOR_MAP = {
    'positive': '#22c55e',  # --color-success
    'negative': '#ef4444',  # --color-error
    'neutral': '#6b7280',   # gray-500
    'primary': '#2563eb',   # --color-primary
    'warning': '#eab308',   # --color-warning
}
```

---

## ğŸš¨ éŒ¯èª¤è™•ç†

### ç„¡è³‡æ–™ç‹€æ…‹

```python
if validation_result is None:
    st.info("""
    ğŸ‘ˆ è«‹å…ˆå¾å·¦å´é¸æ“‡ä¸€å€‹ç­–ç•¥

    é©—è­‰é é¢å°‡é¡¯ç¤ºï¼š
    - çµ±è¨ˆæª¢å®šçµæœ
    - äº¤å‰é©—è­‰åˆ†æ
    - Sharpe Ratio æ ¡æ­£
    - æ¥µç«¯å¸‚æ³å£“åŠ›æ¸¬è©¦
    """)
    st.stop()
```

### è¼‰å…¥éŒ¯èª¤

```python
try:
    data = load_validation_results(strategy_id)
except FileNotFoundError:
    st.error("âŒ é©—è­‰çµæœæª”æ¡ˆä¸å­˜åœ¨ï¼Œè«‹å…ˆåŸ·è¡Œé©—è­‰æµç¨‹")
    st.stop()
except Exception as e:
    st.error(f"âŒ è¼‰å…¥å¤±æ•—ï¼š{str(e)}")
    st.stop()
```

### è³‡æ–™ä¸å®Œæ•´è­¦å‘Š

```python
if not has_bootstrap_data:
    st.warning("âš ï¸ Bootstrap Test è³‡æ–™ç¼ºå¤±ï¼Œéƒ¨åˆ†åŠŸèƒ½ä¸å¯ç”¨")

if not has_stress_test_data:
    st.warning("âš ï¸ å£“åŠ›æ¸¬è©¦è³‡æ–™ç¼ºå¤±ï¼Œè«‹åŸ·è¡Œå£“åŠ›æ¸¬è©¦")
```

---

## ğŸ“ Checklist

### è¨­è¨ˆå®Œæ•´æ€§
- [x] éµå¾ª 60-30-10 è‰²å½©æ³•å‰‡
- [x] Token ä¸‰å±¤æ¶æ§‹æ­£ç¢ºä½¿ç”¨ï¼ˆå¼•ç”¨ styles.pyï¼‰
- [x] æ‰€æœ‰äº’å‹•å…ƒç´ æœ‰æ˜ç¢ºç‹€æ…‹
- [x] éŸ¿æ‡‰å¼è¨­è¨ˆè€ƒé‡
- [x] è¼‰å…¥/éŒ¯èª¤/ç©ºç‹€æ…‹è™•ç†

### UX åŸå‰‡æ‡‰ç”¨
- [x] Miller's Lawï¼šä½¿ç”¨ Tabs åˆ†å¡Šï¼ˆæ¯æ¬¡ 1 å€‹ä¸»é¡Œï¼‰
- [x] Jakob's Lawï¼šéµå¾ª Streamlit æ…£ä¾‹
- [x] Fitts's Lawï¼šæŒ‰éˆ•å¤ å¤§ï¼ˆStreamlit é è¨­ 44pxï¼‰
- [x] Peak-End Ruleï¼šè¨­è¨ˆæ­£é¢çš„å®Œæˆæ™‚åˆ»ï¼ˆé©—è­‰é€šéæ…¶ç¥ï¼‰
- [x] Gestalt Principlesï¼šå¡ç‰‡åˆ†çµ„ã€é¡è‰²åˆ†é¡

### æŠ€è¡“å¯¦ä½œ
- [x] ä½¿ç”¨ç¾æœ‰ `get_common_css()` è¼‰å…¥æ¨£å¼
- [x] ä½¿ç”¨ç¾æœ‰ `GRADE_COLORS` é€²è¡Œè©•ç´šé¡¯ç¤º
- [x] Plotly åœ–è¡¨é…ç½®çµ±ä¸€
- [x] æ‰€æœ‰æ•¸å€¼æ ¼å¼åŒ–ä¸€è‡´
- [x] åœ–è¡¨å¯åŒ¯å‡ºï¼ˆPNGï¼‰

---

## ğŸ“ é–‹ç™¼è€…æ³¨æ„äº‹é …

### å¾è¨­è¨ˆåˆ°ç¨‹å¼ç¢¼

1. **è®€å–ç¾æœ‰æ¨£å¼**
   ```python
   from ui.styles import get_common_css, GRADE_COLORS
   st.markdown(get_common_css(), unsafe_allow_html=True)
   ```

2. **ä½¿ç”¨ CSS Variablesï¼ˆä¸è¦ hardcodeï¼‰**
   ```python
   # âŒ éŒ¯èª¤
   color = "#2563eb"

   # âœ… æ­£ç¢º
   color = "var(--color-primary)"  # å¼•ç”¨ styles.py ä¸­çš„ token
   ```

3. **åœ–è¡¨é¡è‰²ä¸€è‡´æ€§**
   ```python
   fig.add_trace(go.Scatter(
       line=dict(color='#2563eb', width=2)  # ä½¿ç”¨ --color-primary çš„å€¼
   ))
   ```

4. **è©•ç´šå¾½ç« **
   ```python
   # ä½¿ç”¨ç¾æœ‰å‡½æ•¸
   from ui.styles import get_grade_badge_style
   st.markdown(f'<span class="{get_grade_badge_style(grade)}">{grade}</span>',
               unsafe_allow_html=True)
   ```

### è³‡æ–™çµæ§‹é æœŸ

```python
# ValidationResult è³‡æ–™çµæ§‹ï¼ˆé æœŸå¾ src/validator/ æ¨¡çµ„è¼‰å…¥ï¼‰
{
    'bootstrap': {
        'ci_lower': float,
        'ci_upper': float,
        'pass': bool,
        'distribution': List[float]  # ç”¨æ–¼ç¹ªåœ–
    },
    'permutation': {
        'p_value': float,
        'pass': bool,
        'null_distribution': List[float],
        'actual_value': float
    },
    'cross_validation': {
        'folds': List[{
            'is_return': float,
            'oos_return': float,
            'period': str
        }],
        'mean': float,
        'std': float,
        'stability': float
    },
    'sharpe_correction': {
        'original': float,
        'deflated': float,
        'trials': int,
        'pbo': float
    },
    'stress_test': {
        'events': Dict[str, {
            'max_drawdown': float,
            'recovery_days': int,
            'sharpe': float,
            'equity_curve': List[float],
            'dates': List[str]
        }]
    }
}
```

---

## ğŸ”— ç›¸é—œè¦ç¯„

- **Design Tokens**: `~/.claude/skills/ui/references/tokens.md`
- **Component Specs**: `~/.claude/skills/ui/references/components.md`
- **UX Patterns**: `~/.claude/skills/ux/references/patterns.md`
- **Psychology**: `~/.claude/skills/ux/references/psychology.md`
- **ç¾æœ‰æ¨£å¼**: `/ui/styles.py`
- **åƒè€ƒé é¢**: `/ui/pages/2_Strategies.py`
